<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>System structure - TwometerVR</title>
    <link rel="shortcut icon" href="../../img/favicon.ico">

    <!-- Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" href="../../css/theme.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@600&display=swap" rel="stylesheet">

    <!-- User styles -->
    

    <!-- Extra head -->
    
    

    <!-- User javascript -->
    
    <script src="../../search/main.js"></script>
    
</head>

<body>
    <div class="menu-button" id="menu-button">
        <img src="../../img/menu.svg" alt="Menu">
    </div>

    <main class="w-100 d-flex flex-row">
        <section class="nav" id="nav">
            <div class="nav-content">
                <header class="nav-header">
                    
    <img src="../../img/logo.png" alt="" width=32>

                    TwometerVR
                </header>

                
                    
                    
<a href="../.." class="nav-item ">
    Welcome
</a>

                
                    
                    
<div class="nav-item header">
    Basics
</div>
<div class="sublist">
    
        
        
<a href="../Hardware/" class="nav-item ">
    Hardware files
</a>

    
        
        
<a href="./" class="nav-item active">
    System structure
</a>

    
        
        
<a href="../Tracker%20Identification/" class="nav-item ">
    Tracker identification
</a>

    
</div>

                
                    
                    
<div class="nav-item header">
    Meta
</div>
<div class="sublist">
    
        
        
<a href="../../Meta/Definitions/" class="nav-item ">
    Definitions
</a>

    
        
        
<a href="../../Meta/Naming/" class="nav-item ">
    Naming
</a>

    
        
        
<a href="../../Meta/Versioning/" class="nav-item ">
    Versioning
</a>

    
</div>

                
                    
                    
<div class="nav-item header">
    Network
</div>
<div class="sublist">
    
        
        
<a href="../../Network/Driver%20Protocol/" class="nav-item ">
    Driver Protocol
</a>

    
        
        
<a href="../../Network/Tracker%20Protocol/" class="nav-item ">
    Tracker Protocol
</a>

    
</div>

                
            </div>
        </section>
        <section class="flex-fill">
            <div class="main-content" id="main-content">
                
                <h1 id="system-structure">System structure</h1>
<p>TwometerVR is a complex system with many components that need to work together in order to make it work. The components described in this document are named after the naming scheme <a href="/Meta/Naming">described here</a>. You may want to read this first for a clearer understanding.</p>
<h2 id="trackers">Trackers</h2>
<p>Each tracker at least requires a glowing colored 4cm sphere for positional tracking. Trackers that also report orientation, as well as hand controllers, need more intelligent logic. They are based around an ESP8266 WiFi chip. Communication with the host computer is done using WiFi and a binary UDP protocol, which is documented <a href="/Network/Driver%20Protocol">here</a>. </p>
<p>The WiFi chip streams the orientation of the controller along with the state of any buttons to the server. It can also receive messages, so that in the future one can add communication from the server to the client. This can be useful for features like haptic feedback.</p>
<p>To learn more about how the server knows which trackers are which, check out the <a href="/Basics/Tracker identification">Tracker identification page</a>.</p>
<h2 id="server">Server</h2>
<p>The server is a program running on the host computer. It has multiple different functions:</p>
<p>It uses the computer's webcam (preferrably a PSMove camera for high refresh rates) to track the trackers' glowing spheres. Their 3D position is then computed and stored. The server also provides the UDP endpoint to which the trackers send their orientation and button data.</p>
<p>The server then merges all this data and transmits it to the SteamVR driver, which is required in order to play VR games and apps with the system.</p>
<h2 id="driver">Driver</h2>
<p>In order to let games know about the state of the trackers, TVR implements a SteamVR extension, called a driver. This  is the last step for the tracker data, which is received from the server and converted into a format SteamVR understands.</p>
                
            </div>
        </section>
        <section class="toc">
            <div class="toc-item header">Contents</div>
            
            <a href="#system-structure" class="toc-item">System structure</a>
            
            <a href="#trackers" class="toc-item">Trackers</a>
            
            <a href="#server" class="toc-item">Server</a>
            
            <a href="#driver" class="toc-item">Driver</a>
            
            
        </section>
    </main>

    <!--
    MkDocs version      : 1.1.2
    Docs Build Date UTC : 2021-06-10 10:14:51.972640+00:00
    -->

    <script src="../../js/theme.js"></script>
</body>

</html>